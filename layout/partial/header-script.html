<script> !(function(win, doc) { var docEle = doc.documentElement, evt = 'onorientationchange' in win ? 'orientationchange' : 'resize', dpr = window.devicePixelRatio, timer = null; docEle.setAttribute('data-dpr', dpr); function setFontSize() { var winWidth = win.innerWidth || docEle.clientWidth || doc.body.clientWidth, size = (winWidth > 640 ? 640 : winWidth) / 640 * 100; docEle.style.fontSize = size + 'px'; } win.addEventListener(evt, function() { clearTimeout(timer); timer = setTimeout(setFontSize, 300); }, false); win.addEventListener("pageshow", function(e) { if (e.persisted) { clearTimeout(timer); timer = setTimeout(setFontSize, 300); } }, false); setFontSize(); }(window, document)); </script>
